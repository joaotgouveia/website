---
import MainLayout from "@/layouts/MainLayout.astro";
import BlogPostCard from "@/components/BlogPostCard.astro";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

const posts: CollectionEntry<"blog">[] = (await getCollection("blog")).sort(
    (i: CollectionEntry<"blog">, j: CollectionEntry<"blog">) =>
        j.data.date.valueOf() - i.data.date.valueOf(),
);
---

<MainLayout>
    <div class="flex flex-col flex-nowrap items-center">
        <div
            class="lg:w-1/3 w-4/5 lg:text-4xl text-2xl lg:pb-8 pb-5 text-center tracking-wide font-bold"
        >
            Posts
        </div>
        {posts.map((post) => <BlogPostCard post={post} />)}
    </div>
</MainLayout>
